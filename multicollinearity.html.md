# When is Multicollinearity an Issue?
Matthew Reda

<!-- WARNING: THIS FILE WAS AUTOGENERATED! DO NOT EDIT! -->

Multicollinearity arises when independent variables in a regression
model are highly correlated, leading to challenges in estimating
individual effects accurately. This issue can inflate standard errors,
reduce the precision of coefficient estimates, and complicate the
interpretation of results. Understanding when multicollinearity becomes
problematic is crucial for developing robust regression models. This
section explores the conditions under which multicollinearity affects
model performance, discusses its implications, and provides strategies
for detection and mitigation.

## The DAG

<div>

<img src="01_multicollinearity_files/figure-commonmark/dot-figure-1.png"
style="width:7in;height:5in" />

</div>

<div id="note-dag-notation">

> **How to read a DAG**
>
> A Directed Acyclic Graph (DAG) serves as a model of causality, where
> directional relationships between nodes indicate that causes flow from
> one node to another along the arrows, forming a distinct pathway of
> influence. Each arrow represents a causal link, signaling how changes
> in one node could potentially impact another. In a DAG, the
> relationships between nodes (depicted by an arrow) are not restricted
> to being linear; they can incorporate complex, non-linear
> interactions.
>
> Edges will be color-coded to emphasize whether they represent causal
> paths (green
> <button disabled style="background-color: #326E1E; height: 13px; width: 11px;"></button>),
> biasing paths (red
> <button disabled style="background-color: #8D2D39; height: 13px; width: 11px;"></button>),
> or non-causal paths (black
> <button disabled style="background-color: #000000; height: 13px; width: 11px;"></button>).
> Refer to
> <a href="#fig-causal-graph-paid-search" class="quarto-xref">Figure 2</a>
> and <a href="#fig-causal-graph-paid-search-adjusted"
> class="quarto-xref">Figure 3</a>.
>
> Nodes indicating exposures (factors for which we want to understand
> the effect) will have a green background
> (<button disabled style="background-color: #82B9A0; height: 13px; width: 11px;"></button>).
> The outcome variable of interest will have a blue background
> (<button disabled style="background-color: #0069AA; height: 13px; width: 11px;"></button>),
> while variables adjusted for will have a light gray background
> (<button disabled style="background-color: #AFB3B7; height: 13px; width: 11px;"></button>).
> Nodes with a dashed outline represent elements that are challenging or
> impossible to observe directly, while nodes with a solid outline and
> no fill represent variables for which data is available or can be
> acquired.

</div>

### How Effective is Paid Search at Driving Sales?

To accurately measure the impact of Paid Search on Sales, we must
carefully consider the causal pathways influencing this relationship.
The causal model presented in
<a href="#fig-causal-graph" class="quarto-xref">Figure 1</a> reveals
several open biasing paths from both **paid search impressions** and
**paid search clicks** to **sales**. These open paths introduce
potential sources of bias that can distort our understanding of Paid
Search’s effectiveness.

Additionally, the DAG highlights a complex correlation structure within
the data, which suggests that variables may be highly interrelated. This
correlation can lead to high Variance Inflation Factors (VIFs) in a
regression model.

Elevated VIFs inflate standard errors and reduce the precision of our
estimates, but excluding the wrong variables could result in biased
estimates. Balancing these considerations—minimizing multicollinearity
without overlooking key variables—is essential for creating a model that
yields accurate and precise estimates of paid search’s impact on sales.

#### Solution

To get an unbiased estimate of the effect of **paid search impressions**
on **sale**, given the bias introduced by **demand** (an unobserved
variable), focusing on **search query** as an adjustment variable is a
sound approach. Here’s a breakdown of the reasoning and approach based
on the DAG structure:

1.  Direct Path and Biasing Path:
    - **Paid search clicks** have a direct impact on sales, but due to
      **demand** (which is unobserved and thus unadjustable in this
      analysis), there’s a risk of confounding.
    - Since **demand** also influences **search query**, which in turn
      influences both **paid search impressions** and **paid search
      clicks**, **search query** becomes a potential control variable to
      block the non-causal path through **demand**. See
      <a href="#fig-causal-graph-paid-search" class="quarto-xref">Figure 2</a>
2.  Adjustment for Search Query:
    - By adjusting for search query, we aim to block the path from
      demand that leads through **search query** to both **paid search
      impressions** and **paid search clicks**. This adjustment helps
      remove the confounding influence of **demand** on **sales** via
      **search query**, allowing for a more accurate estimate of **paid
      search impressions’** effect on **sales**. See
      <a href="#fig-causal-graph-paid-search-adjusted"
      class="quarto-xref">Figure 3</a>
3.  Outcome:
    - Adjusting for **search query** should allow for a clearer view of
      the total effect of **paid search impressions** on **sales** by
      blocking the biasing path from **demand**, leading to a more
      reliable analysis.

In summary, adjusting for **search query** effectively helps control for
the unobserved demand factor, allowing us to examine the impact of
**paid search impressions** on **sales** with minimized bias. We can
also increase the precision of this estimate by controlling for
**price**.

<div class="panel-tabset" group="Models">

## Un-Adjusted Model

<div>

<img src="01_multicollinearity_files/figure-commonmark/dot-figure-5.png"
style="width:7in;height:5in" />

</div>

## Adjusted Model

<div>

<img src="01_multicollinearity_files/figure-commonmark/dot-figure-4.png"
style="width:7in;height:5in" />

</div>

</div>

<div class="panel-tabset">

## Correlation Matrix

<style type="text/css">
#T_cfbcf_row0_col0, #T_cfbcf_row1_col1, #T_cfbcf_row2_col2, #T_cfbcf_row3_col3 {
  background-color: #006837;
  color: #f1f1f1;
}
#T_cfbcf_row0_col1, #T_cfbcf_row1_col0 {
  background-color: #097940;
  color: #f1f1f1;
}
#T_cfbcf_row0_col2, #T_cfbcf_row2_col0 {
  background-color: #fdbd6d;
  color: #000000;
}
#T_cfbcf_row0_col3, #T_cfbcf_row1_col3, #T_cfbcf_row3_col0, #T_cfbcf_row3_col1 {
  background-color: #0c7f43;
  color: #f1f1f1;
}
#T_cfbcf_row1_col2, #T_cfbcf_row2_col1 {
  background-color: #fdbf6f;
  color: #000000;
}
#T_cfbcf_row2_col3, #T_cfbcf_row3_col2 {
  background-color: #fee28f;
  color: #000000;
}
</style>

<table id="T_cfbcf" data-quarto-postprocess="true">
<thead>
<tr>
<th class="blank level0" data-quarto-table-cell-role="th"> </th>
<th id="T_cfbcf_level0_col0" class="col_heading level0 col0"
data-quarto-table-cell-role="th">paid_search_impressions</th>
<th id="T_cfbcf_level0_col1" class="col_heading level0 col1"
data-quarto-table-cell-role="th">search_query</th>
<th id="T_cfbcf_level0_col2" class="col_heading level0 col2"
data-quarto-table-cell-role="th">price</th>
<th id="T_cfbcf_level0_col3" class="col_heading level0 col3"
data-quarto-table-cell-role="th">sales</th>
</tr>
</thead>
<tbody>
<tr>
<td id="T_cfbcf_level0_row0" class="row_heading level0 row0"
data-quarto-table-cell-role="th">paid_search_impressions</td>
<td id="T_cfbcf_row0_col0" class="data row0 col0">1.00</td>
<td id="T_cfbcf_row0_col1" class="data row0 col1">0.93</td>
<td id="T_cfbcf_row0_col2" class="data row0 col2">-0.34</td>
<td id="T_cfbcf_row0_col3" class="data row0 col3">0.90</td>
</tr>
<tr>
<td id="T_cfbcf_level0_row1" class="row_heading level0 row1"
data-quarto-table-cell-role="th">search_query</td>
<td id="T_cfbcf_row1_col0" class="data row1 col0">0.93</td>
<td id="T_cfbcf_row1_col1" class="data row1 col1">1.00</td>
<td id="T_cfbcf_row1_col2" class="data row1 col2">-0.33</td>
<td id="T_cfbcf_row1_col3" class="data row1 col3">0.91</td>
</tr>
<tr>
<td id="T_cfbcf_level0_row2" class="row_heading level0 row2"
data-quarto-table-cell-role="th">price</td>
<td id="T_cfbcf_row2_col0" class="data row2 col0">-0.34</td>
<td id="T_cfbcf_row2_col1" class="data row2 col1">-0.33</td>
<td id="T_cfbcf_row2_col2" class="data row2 col2">1.00</td>
<td id="T_cfbcf_row2_col3" class="data row2 col3">-0.19</td>
</tr>
<tr>
<td id="T_cfbcf_level0_row3" class="row_heading level0 row3"
data-quarto-table-cell-role="th">sales</td>
<td id="T_cfbcf_row3_col0" class="data row3 col0">0.90</td>
<td id="T_cfbcf_row3_col1" class="data row3 col1">0.91</td>
<td id="T_cfbcf_row3_col2" class="data row3 col2">-0.19</td>
<td id="T_cfbcf_row3_col3" class="data row3 col3">1.00</td>
</tr>
</tbody>
</table>

## VIFs

<div class="cell-output cell-output-stdout">

                               VIF
    paid_search_impressions  : 1667.63
    search_query             : 1952.48
    price                    : 72.44

</div>

</div>

With our adjustment set established, let’s examine the correlation
structure among the key variables (**paid search impressions**, **search
query**, **price**, and **sales**). As shown in
<a href="#fig-corr-matrix" class="quarto-xref">Figure 4</a>, **search
query** and **paid search impressions** exhibit a high correlation.
Additionally, the VIF values presented in
<a href="#tbl-vifs" class="quarto-xref">Table 1</a> reveal some extreme
figures.

Rather than being immediately concerned about the high VIFs (even those
exceeding 1000), let’s proceed by running the regression to assess the
actual impact.

In <a href="#tbl-adjusted" class="quarto-xref">Table 3</a>, the standard
errors for the coefficients are reasonably sized. Since this is
synthetic data, we can compare the estimated coefficient for **paid
search impressions** to the expected value of 0.4, which indeed falls
within the confidence interval for this coefficient.

In <a href="#tbl-unadjusted" class="quarto-xref">Table 2</a>, where
**search query** is excluded from the model, we observe a reduction in
standard errors. However, this reduction comes at the expense of
introducing bias into the estimate of **paid search impressions’**
effect on **sales**. In fact it produces an estimate that is much larger
than the true value.

Given that the correctly adjusted model provides an estimate with
reasonable precision, it should be preferred, even in light of the high
VIFs.

<div class="panel-tabset" group="Models">

## Un-Adjusted Model

<div class="cell-output cell-output-display">

<table class="simpletable do-not-create-environment cell"
data-quarto-postprocess="true">
<caption>OLS Regression Results</caption>
<tbody>
<tr>
<td data-quarto-table-cell-role="th">Dep. Variable:</td>
<td>sales</td>
<td data-quarto-table-cell-role="th">R-squared:</td>
<td>0.832</td>
</tr>
<tr>
<td data-quarto-table-cell-role="th">Model:</td>
<td>OLS</td>
<td data-quarto-table-cell-role="th">Adj. R-squared:</td>
<td>0.830</td>
</tr>
<tr>
<td data-quarto-table-cell-role="th">Method:</td>
<td>Least Squares</td>
<td data-quarto-table-cell-role="th">F-statistic:</td>
<td>379.1</td>
</tr>
<tr>
<td data-quarto-table-cell-role="th">Date:</td>
<td>Tue, 19 Nov 2024</td>
<td data-quarto-table-cell-role="th">Prob (F-statistic):</td>
<td>5.21e-60</td>
</tr>
<tr>
<td data-quarto-table-cell-role="th">Time:</td>
<td>19:17:11</td>
<td data-quarto-table-cell-role="th">Log-Likelihood:</td>
<td>-27.949</td>
</tr>
<tr>
<td data-quarto-table-cell-role="th">No. Observations:</td>
<td>156</td>
<td data-quarto-table-cell-role="th">AIC:</td>
<td>61.90</td>
</tr>
<tr>
<td data-quarto-table-cell-role="th">Df Residuals:</td>
<td>153</td>
<td data-quarto-table-cell-role="th">BIC:</td>
<td>71.05</td>
</tr>
<tr>
<td data-quarto-table-cell-role="th">Df Model:</td>
<td>2</td>
<td data-quarto-table-cell-role="th"></td>
<td></td>
</tr>
<tr>
<td data-quarto-table-cell-role="th">Covariance Type:</td>
<td>nonrobust</td>
<td data-quarto-table-cell-role="th"></td>
<td></td>
</tr>
</tbody>
</table>

<table class="simpletable do-not-create-environment cell"
data-quarto-postprocess="true">
<tbody>
<tr>
<td></td>
<td data-quarto-table-cell-role="th">coef</td>
<td data-quarto-table-cell-role="th">std err</td>
<td data-quarto-table-cell-role="th">t</td>
<td data-quarto-table-cell-role="th">P&gt;|t|</td>
<td data-quarto-table-cell-role="th">[0.025</td>
<td data-quarto-table-cell-role="th">0.975]</td>
</tr>
<tr>
<td data-quarto-table-cell-role="th">const</td>
<td>-2.0391</td>
<td>0.532</td>
<td>-3.835</td>
<td>0.000</td>
<td>-3.090</td>
<td>-0.989</td>
</tr>
<tr>
<td data-quarto-table-cell-role="th">paid_search_impressions</td>
<td>0.8323</td>
<td>0.031</td>
<td>26.950</td>
<td>0.000</td>
<td>0.771</td>
<td>0.893</td>
</tr>
<tr>
<td data-quarto-table-cell-role="th">price</td>
<td>0.6034</td>
<td>0.160</td>
<td>3.779</td>
<td>0.000</td>
<td>0.288</td>
<td>0.919</td>
</tr>
</tbody>
</table>

<table class="simpletable do-not-create-environment cell"
data-quarto-postprocess="true">
<tbody>
<tr>
<td data-quarto-table-cell-role="th">Omnibus:</td>
<td>1.250</td>
<td data-quarto-table-cell-role="th">Durbin-Watson:</td>
<td>1.504</td>
</tr>
<tr>
<td data-quarto-table-cell-role="th">Prob(Omnibus):</td>
<td>0.535</td>
<td data-quarto-table-cell-role="th">Jarque-Bera (JB):</td>
<td>0.862</td>
</tr>
<tr>
<td data-quarto-table-cell-role="th">Skew:</td>
<td>0.042</td>
<td data-quarto-table-cell-role="th">Prob(JB):</td>
<td>0.650</td>
</tr>
<tr>
<td data-quarto-table-cell-role="th">Kurtosis:</td>
<td>3.354</td>
<td data-quarto-table-cell-role="th">Cond. No.</td>
<td>299.</td>
</tr>
</tbody>
</table>

<br/><br/>Notes:<br/>[1] Standard Errors assume that the covariance matrix of the errors is correctly specified.

</div>

## Adjusted Model

<div class="cell-output cell-output-display">

<table class="simpletable do-not-create-environment cell"
data-quarto-postprocess="true">
<caption>OLS Regression Results</caption>
<tbody>
<tr>
<td data-quarto-table-cell-role="th">Dep. Variable:</td>
<td>sales</td>
<td data-quarto-table-cell-role="th">R-squared:</td>
<td>0.867</td>
</tr>
<tr>
<td data-quarto-table-cell-role="th">Model:</td>
<td>OLS</td>
<td data-quarto-table-cell-role="th">Adj. R-squared:</td>
<td>0.865</td>
</tr>
<tr>
<td data-quarto-table-cell-role="th">Method:</td>
<td>Least Squares</td>
<td data-quarto-table-cell-role="th">F-statistic:</td>
<td>331.6</td>
</tr>
<tr>
<td data-quarto-table-cell-role="th">Date:</td>
<td>Tue, 19 Nov 2024</td>
<td data-quarto-table-cell-role="th">Prob (F-statistic):</td>
<td>1.82e-66</td>
</tr>
<tr>
<td data-quarto-table-cell-role="th">Time:</td>
<td>19:17:12</td>
<td data-quarto-table-cell-role="th">Log-Likelihood:</td>
<td>-9.4959</td>
</tr>
<tr>
<td data-quarto-table-cell-role="th">No. Observations:</td>
<td>156</td>
<td data-quarto-table-cell-role="th">AIC:</td>
<td>26.99</td>
</tr>
<tr>
<td data-quarto-table-cell-role="th">Df Residuals:</td>
<td>152</td>
<td data-quarto-table-cell-role="th">BIC:</td>
<td>39.19</td>
</tr>
<tr>
<td data-quarto-table-cell-role="th">Df Model:</td>
<td>3</td>
<td data-quarto-table-cell-role="th"></td>
<td></td>
</tr>
<tr>
<td data-quarto-table-cell-role="th">Covariance Type:</td>
<td>nonrobust</td>
<td data-quarto-table-cell-role="th"></td>
<td></td>
</tr>
</tbody>
</table>

<table class="simpletable do-not-create-environment cell"
data-quarto-postprocess="true">
<tbody>
<tr>
<td></td>
<td data-quarto-table-cell-role="th">coef</td>
<td data-quarto-table-cell-role="th">std err</td>
<td data-quarto-table-cell-role="th">t</td>
<td data-quarto-table-cell-role="th">P&gt;|t|</td>
<td data-quarto-table-cell-role="th">[0.025</td>
<td data-quarto-table-cell-role="th">0.975]</td>
</tr>
<tr>
<td data-quarto-table-cell-role="th">const</td>
<td>-4.1601</td>
<td>0.579</td>
<td>-7.182</td>
<td>0.000</td>
<td>-5.305</td>
<td>-3.016</td>
</tr>
<tr>
<td data-quarto-table-cell-role="th">paid_search_impressions</td>
<td>0.4287</td>
<td>0.069</td>
<td>6.205</td>
<td>0.000</td>
<td>0.292</td>
<td>0.565</td>
</tr>
<tr>
<td data-quarto-table-cell-role="th">search_query</td>
<td>0.4739</td>
<td>0.074</td>
<td>6.369</td>
<td>0.000</td>
<td>0.327</td>
<td>0.621</td>
</tr>
<tr>
<td data-quarto-table-cell-role="th">price</td>
<td>0.6448</td>
<td>0.142</td>
<td>4.526</td>
<td>0.000</td>
<td>0.363</td>
<td>0.926</td>
</tr>
</tbody>
</table>

<table class="simpletable do-not-create-environment cell"
data-quarto-postprocess="true">
<tbody>
<tr>
<td data-quarto-table-cell-role="th">Omnibus:</td>
<td>0.507</td>
<td data-quarto-table-cell-role="th">Durbin-Watson:</td>
<td>1.777</td>
</tr>
<tr>
<td data-quarto-table-cell-role="th">Prob(Omnibus):</td>
<td>0.776</td>
<td data-quarto-table-cell-role="th">Jarque-Bera (JB):</td>
<td>0.214</td>
</tr>
<tr>
<td data-quarto-table-cell-role="th">Skew:</td>
<td>-0.035</td>
<td data-quarto-table-cell-role="th">Prob(JB):</td>
<td>0.899</td>
</tr>
<tr>
<td data-quarto-table-cell-role="th">Kurtosis:</td>
<td>3.167</td>
<td data-quarto-table-cell-role="th">Cond. No.</td>
<td>559.</td>
</tr>
</tbody>
</table>

<br/><br/>Notes:<br/>[1] Standard Errors assume that the covariance matrix of the errors is correctly specified.

</div>

</div>

### When High VIFs are an issue

While high VIFs are not inherently problematic, they serve as a useful
diagnostic tool for identifying potential issues in regression results.
Let’s explore this further with a slightly more complex example.

### How effective is OLV at driving sales?

From the causal model, we can see that **seasonality** is part of the
necessary adjustment set to accurately estimate the effect of **OLV
impressions** on **sales**. Although seasonality is unobserved, we can
reasonably approximate it using a periodic function (e.g., sine or
cosine terms) to capture seasonal fluctuations over time. Let’s consider
the following model were we adjust for **seasonality** (using fourier
terms), **price**, **olv impressions**, and **Video Platform Sentiment**
(`olv_sentiment` in the models). Note that **Video Platform Sentiment**
is not a confounder, typically we would not adjust for it, but we
include it here to illustrate the point that adjusting for variables
that are not confounders can needlessly increase VIFs.

<div class="panel-tabset" group="OLV">

## Over Adjusted Model

<div>

<img src="01_multicollinearity_files/figure-commonmark/dot-figure-3.png"
style="width:7in;height:5in" />

</div>

## Correctly Adjusted Model

<div>

<img src="01_multicollinearity_files/figure-commonmark/dot-figure-2.png"
style="width:7in;height:5in" />

</div>

</div>

<div id="note-fourier-components">

> **Fourier Seasonality**
>
> To capture the seasonal fluctuations in the data, we can use Fourier
> terms to approximate the unobserved **seasonality** variable. These
> terms are periodic functions that can model the cyclical patterns in
> the data, allowing us to adjust for the influence of **seasonality**
> on **sales** and **OLV impressions**. By including these terms in the
> regression model, we can effectively control for the confounding
> effect of **seasonality** and obtain an unbiased estimate of the
> effect of **OLV impressions** on **sales**.
>
> I will use a [model helper](./model_helpers/fourier_components.html)
> to generated the fourier
>
> ![](01_multicollinearity_files/figure-commonmark/fig-fourier-season-samples-output-1.png)

</div>

<div class="panel-tabset" group="OLV">

## Over Adjusted Model

<div class="cell-output cell-output-stdout">

                   VIF
    hill_olv     : 70.91
    log_price    : 57.59
    olv_sentiment: 4.43
    fourier_sin_0: 1.01
    fourier_sin_1: 1.01
    fourier_sin_2: 1.0
    fourier_cos_0: 1.42
    fourier_cos_1: 1.01
    fourier_cos_2: 1.01

</div>

## Correctly Adjusted Model

<div class="cell-output cell-output-stdout">

                   VIF
    hill_olv     : 18.98
    log_price    : 18.84
    fourier_sin_0: 1.01
    fourier_sin_1: 1.0
    fourier_sin_2: 1.0
    fourier_cos_0: 1.14
    fourier_cos_1: 1.0
    fourier_cos_2: 1.0

</div>

</div>

<div>

> **Vectors Spaces and Basis Vectors**
>
> Fourier components provide an orthogonal basis for the space of
> periodic functions with a given period *L* . This orthogonality helps
> to address multicollinearity, which is why the VIFs in
> <a href="#tbl-vifs-fourier-correct" class="quarto-xref">Table 5</a>
> and <a href="#tbl-vifs-fourier" class="quarto-xref">Table 4</a> are
> all near 1 for the fourier components!

</div>

<div class="panel-tabset" group="OLV">

## Over Adjusted Model

<div class="cell-output cell-output-display">

<table class="simpletable do-not-create-environment cell"
data-quarto-postprocess="true">
<caption>OLS Regression Results</caption>
<tbody>
<tr>
<td data-quarto-table-cell-role="th">Dep. Variable:</td>
<td>sales</td>
<td data-quarto-table-cell-role="th">R-squared:</td>
<td>0.888</td>
</tr>
<tr>
<td data-quarto-table-cell-role="th">Model:</td>
<td>OLS</td>
<td data-quarto-table-cell-role="th">Adj. R-squared:</td>
<td>0.881</td>
</tr>
<tr>
<td data-quarto-table-cell-role="th">Method:</td>
<td>Least Squares</td>
<td data-quarto-table-cell-role="th">F-statistic:</td>
<td>128.3</td>
</tr>
<tr>
<td data-quarto-table-cell-role="th">Date:</td>
<td>Tue, 19 Nov 2024</td>
<td data-quarto-table-cell-role="th">Prob (F-statistic):</td>
<td>9.51e-65</td>
</tr>
<tr>
<td data-quarto-table-cell-role="th">Time:</td>
<td>19:17:22</td>
<td data-quarto-table-cell-role="th">Log-Likelihood:</td>
<td>3.4816</td>
</tr>
<tr>
<td data-quarto-table-cell-role="th">No. Observations:</td>
<td>156</td>
<td data-quarto-table-cell-role="th">AIC:</td>
<td>13.04</td>
</tr>
<tr>
<td data-quarto-table-cell-role="th">Df Residuals:</td>
<td>146</td>
<td data-quarto-table-cell-role="th">BIC:</td>
<td>43.54</td>
</tr>
<tr>
<td data-quarto-table-cell-role="th">Df Model:</td>
<td>9</td>
<td data-quarto-table-cell-role="th"></td>
<td></td>
</tr>
<tr>
<td data-quarto-table-cell-role="th">Covariance Type:</td>
<td>nonrobust</td>
<td data-quarto-table-cell-role="th"></td>
<td></td>
</tr>
</tbody>
</table>

<table class="simpletable do-not-create-environment cell"
data-quarto-postprocess="true">
<tbody>
<tr>
<td></td>
<td data-quarto-table-cell-role="th">coef</td>
<td data-quarto-table-cell-role="th">std err</td>
<td data-quarto-table-cell-role="th">t</td>
<td data-quarto-table-cell-role="th">P&gt;|t|</td>
<td data-quarto-table-cell-role="th">[0.025</td>
<td data-quarto-table-cell-role="th">0.975]</td>
</tr>
<tr>
<td data-quarto-table-cell-role="th">const</td>
<td>10.7020</td>
<td>0.324</td>
<td>32.982</td>
<td>0.000</td>
<td>10.061</td>
<td>11.343</td>
</tr>
<tr>
<td data-quarto-table-cell-role="th">hill_olv</td>
<td>0.7217</td>
<td>0.433</td>
<td>1.665</td>
<td>0.098</td>
<td>-0.135</td>
<td>1.578</td>
</tr>
<tr>
<td data-quarto-table-cell-role="th">log_price</td>
<td>-1.0720</td>
<td>0.127</td>
<td>-8.433</td>
<td>0.000</td>
<td>-1.323</td>
<td>-0.821</td>
</tr>
<tr>
<td data-quarto-table-cell-role="th">olv_sentiment</td>
<td>0.0183</td>
<td>0.161</td>
<td>0.114</td>
<td>0.909</td>
<td>-0.299</td>
<td>0.336</td>
</tr>
<tr>
<td data-quarto-table-cell-role="th">fourier_sin_0</td>
<td>0.0449</td>
<td>0.028</td>
<td>1.591</td>
<td>0.114</td>
<td>-0.011</td>
<td>0.101</td>
</tr>
<tr>
<td data-quarto-table-cell-role="th">fourier_sin_1</td>
<td>0.0214</td>
<td>0.028</td>
<td>0.768</td>
<td>0.444</td>
<td>-0.034</td>
<td>0.077</td>
</tr>
<tr>
<td data-quarto-table-cell-role="th">fourier_sin_2</td>
<td>0.0166</td>
<td>0.028</td>
<td>0.596</td>
<td>0.552</td>
<td>-0.038</td>
<td>0.072</td>
</tr>
<tr>
<td data-quarto-table-cell-role="th">fourier_cos_0</td>
<td>-0.8321</td>
<td>0.041</td>
<td>-20.141</td>
<td>0.000</td>
<td>-0.914</td>
<td>-0.750</td>
</tr>
<tr>
<td data-quarto-table-cell-role="th">fourier_cos_1</td>
<td>0.1959</td>
<td>0.028</td>
<td>6.963</td>
<td>0.000</td>
<td>0.140</td>
<td>0.251</td>
</tr>
<tr>
<td data-quarto-table-cell-role="th">fourier_cos_2</td>
<td>0.0084</td>
<td>0.028</td>
<td>0.303</td>
<td>0.763</td>
<td>-0.046</td>
<td>0.063</td>
</tr>
</tbody>
</table>

<table class="simpletable do-not-create-environment cell"
data-quarto-postprocess="true">
<tbody>
<tr>
<td data-quarto-table-cell-role="th">Omnibus:</td>
<td>0.997</td>
<td data-quarto-table-cell-role="th">Durbin-Watson:</td>
<td>1.689</td>
</tr>
<tr>
<td data-quarto-table-cell-role="th">Prob(Omnibus):</td>
<td>0.607</td>
<td data-quarto-table-cell-role="th">Jarque-Bera (JB):</td>
<td>0.912</td>
</tr>
<tr>
<td data-quarto-table-cell-role="th">Skew:</td>
<td>-0.186</td>
<td data-quarto-table-cell-role="th">Prob(JB):</td>
<td>0.634</td>
</tr>
<tr>
<td data-quarto-table-cell-role="th">Kurtosis:</td>
<td>2.964</td>
<td data-quarto-table-cell-role="th">Cond. No.</td>
<td>53.9</td>
</tr>
</tbody>
</table>

<br/><br/>Notes:<br/>[1] Standard Errors assume that the covariance matrix of the errors is correctly specified.

</div>

## Correctly Adjusted Model

<div class="cell-output cell-output-display">

<table class="simpletable do-not-create-environment cell"
data-quarto-postprocess="true">
<caption>OLS Regression Results</caption>
<tbody>
<tr>
<td data-quarto-table-cell-role="th">Dep. Variable:</td>
<td>sales</td>
<td data-quarto-table-cell-role="th">R-squared:</td>
<td>0.888</td>
</tr>
<tr>
<td data-quarto-table-cell-role="th">Model:</td>
<td>OLS</td>
<td data-quarto-table-cell-role="th">Adj. R-squared:</td>
<td>0.882</td>
</tr>
<tr>
<td data-quarto-table-cell-role="th">Method:</td>
<td>Least Squares</td>
<td data-quarto-table-cell-role="th">F-statistic:</td>
<td>145.4</td>
</tr>
<tr>
<td data-quarto-table-cell-role="th">Date:</td>
<td>Tue, 19 Nov 2024</td>
<td data-quarto-table-cell-role="th">Prob (F-statistic):</td>
<td>7.68e-66</td>
</tr>
<tr>
<td data-quarto-table-cell-role="th">Time:</td>
<td>19:18:03</td>
<td data-quarto-table-cell-role="th">Log-Likelihood:</td>
<td>3.4747</td>
</tr>
<tr>
<td data-quarto-table-cell-role="th">No. Observations:</td>
<td>156</td>
<td data-quarto-table-cell-role="th">AIC:</td>
<td>11.05</td>
</tr>
<tr>
<td data-quarto-table-cell-role="th">Df Residuals:</td>
<td>147</td>
<td data-quarto-table-cell-role="th">BIC:</td>
<td>38.50</td>
</tr>
<tr>
<td data-quarto-table-cell-role="th">Df Model:</td>
<td>8</td>
<td data-quarto-table-cell-role="th"></td>
<td></td>
</tr>
<tr>
<td data-quarto-table-cell-role="th">Covariance Type:</td>
<td>nonrobust</td>
<td data-quarto-table-cell-role="th"></td>
<td></td>
</tr>
</tbody>
</table>

<table class="simpletable do-not-create-environment cell"
data-quarto-postprocess="true">
<tbody>
<tr>
<td></td>
<td data-quarto-table-cell-role="th">coef</td>
<td data-quarto-table-cell-role="th">std err</td>
<td data-quarto-table-cell-role="th">t</td>
<td data-quarto-table-cell-role="th">P&gt;|t|</td>
<td data-quarto-table-cell-role="th">[0.025</td>
<td data-quarto-table-cell-role="th">0.975]</td>
</tr>
<tr>
<td data-quarto-table-cell-role="th">const</td>
<td>10.6756</td>
<td>0.226</td>
<td>47.201</td>
<td>0.000</td>
<td>10.229</td>
<td>11.123</td>
</tr>
<tr>
<td data-quarto-table-cell-role="th">hill_olv</td>
<td>0.7678</td>
<td>0.157</td>
<td>4.898</td>
<td>0.000</td>
<td>0.458</td>
<td>1.078</td>
</tr>
<tr>
<td data-quarto-table-cell-role="th">log_price</td>
<td>-1.0712</td>
<td>0.126</td>
<td>-8.468</td>
<td>0.000</td>
<td>-1.321</td>
<td>-0.821</td>
</tr>
<tr>
<td data-quarto-table-cell-role="th">fourier_sin_0</td>
<td>0.0444</td>
<td>0.028</td>
<td>1.597</td>
<td>0.112</td>
<td>-0.011</td>
<td>0.099</td>
</tr>
<tr>
<td data-quarto-table-cell-role="th">fourier_sin_1</td>
<td>0.0215</td>
<td>0.028</td>
<td>0.773</td>
<td>0.441</td>
<td>-0.033</td>
<td>0.076</td>
</tr>
<tr>
<td data-quarto-table-cell-role="th">fourier_sin_2</td>
<td>0.0167</td>
<td>0.028</td>
<td>0.603</td>
<td>0.548</td>
<td>-0.038</td>
<td>0.071</td>
</tr>
<tr>
<td data-quarto-table-cell-role="th">fourier_cos_0</td>
<td>-0.8289</td>
<td>0.030</td>
<td>-27.407</td>
<td>0.000</td>
<td>-0.889</td>
<td>-0.769</td>
</tr>
<tr>
<td data-quarto-table-cell-role="th">fourier_cos_1</td>
<td>0.1953</td>
<td>0.028</td>
<td>7.081</td>
<td>0.000</td>
<td>0.141</td>
<td>0.250</td>
</tr>
<tr>
<td data-quarto-table-cell-role="th">fourier_cos_2</td>
<td>0.0086</td>
<td>0.028</td>
<td>0.313</td>
<td>0.755</td>
<td>-0.046</td>
<td>0.063</td>
</tr>
</tbody>
</table>

<table class="simpletable do-not-create-environment cell"
data-quarto-postprocess="true">
<tbody>
<tr>
<td data-quarto-table-cell-role="th">Omnibus:</td>
<td>1.098</td>
<td data-quarto-table-cell-role="th">Durbin-Watson:</td>
<td>1.688</td>
</tr>
<tr>
<td data-quarto-table-cell-role="th">Prob(Omnibus):</td>
<td>0.577</td>
<td data-quarto-table-cell-role="th">Jarque-Bera (JB):</td>
<td>0.987</td>
</tr>
<tr>
<td data-quarto-table-cell-role="th">Skew:</td>
<td>-0.195</td>
<td data-quarto-table-cell-role="th">Prob(JB):</td>
<td>0.610</td>
</tr>
<tr>
<td data-quarto-table-cell-role="th">Kurtosis:</td>
<td>2.979</td>
<td data-quarto-table-cell-role="th">Cond. No.</td>
<td>26.6</td>
</tr>
</tbody>
</table>

<br/><br/>Notes:<br/>[1] Standard Errors assume that the covariance matrix of the errors is correctly specified.

</div>

</div>

<div class="cell-output cell-output-display">

<table class="simpletable do-not-create-environment cell"
data-quarto-postprocess="true">
<caption>OLS Regression Results</caption>
<tbody>
<tr>
<td data-quarto-table-cell-role="th">Dep. Variable:</td>
<td>sales</td>
<td data-quarto-table-cell-role="th">R-squared:</td>
<td>0.063</td>
</tr>
<tr>
<td data-quarto-table-cell-role="th">Model:</td>
<td>OLS</td>
<td data-quarto-table-cell-role="th">Adj. R-squared:</td>
<td>0.051</td>
</tr>
<tr>
<td data-quarto-table-cell-role="th">Method:</td>
<td>Least Squares</td>
<td data-quarto-table-cell-role="th">F-statistic:</td>
<td>5.166</td>
</tr>
<tr>
<td data-quarto-table-cell-role="th">Date:</td>
<td>Tue, 19 Nov 2024</td>
<td data-quarto-table-cell-role="th">Prob (F-statistic):</td>
<td>0.00674</td>
</tr>
<tr>
<td data-quarto-table-cell-role="th">Time:</td>
<td>19:27:23</td>
<td data-quarto-table-cell-role="th">Log-Likelihood:</td>
<td>-162.03</td>
</tr>
<tr>
<td data-quarto-table-cell-role="th">No. Observations:</td>
<td>156</td>
<td data-quarto-table-cell-role="th">AIC:</td>
<td>330.1</td>
</tr>
<tr>
<td data-quarto-table-cell-role="th">Df Residuals:</td>
<td>153</td>
<td data-quarto-table-cell-role="th">BIC:</td>
<td>339.2</td>
</tr>
<tr>
<td data-quarto-table-cell-role="th">Df Model:</td>
<td>2</td>
<td data-quarto-table-cell-role="th"></td>
<td></td>
</tr>
<tr>
<td data-quarto-table-cell-role="th">Covariance Type:</td>
<td>nonrobust</td>
<td data-quarto-table-cell-role="th"></td>
<td></td>
</tr>
</tbody>
</table>

<table class="simpletable do-not-create-environment cell"
data-quarto-postprocess="true">
<tbody>
<tr>
<td></td>
<td data-quarto-table-cell-role="th">coef</td>
<td data-quarto-table-cell-role="th">std err</td>
<td data-quarto-table-cell-role="th">t</td>
<td data-quarto-table-cell-role="th">P&gt;|t|</td>
<td data-quarto-table-cell-role="th">[0.025</td>
<td data-quarto-table-cell-role="th">0.975]</td>
</tr>
<tr>
<td data-quarto-table-cell-role="th">const</td>
<td>10.1355</td>
<td>0.637</td>
<td>15.919</td>
<td>0.000</td>
<td>8.878</td>
<td>11.393</td>
</tr>
<tr>
<td data-quarto-table-cell-role="th">log_price</td>
<td>-0.8167</td>
<td>0.355</td>
<td>-2.299</td>
<td>0.023</td>
<td>-1.519</td>
<td>-0.115</td>
</tr>
<tr>
<td data-quarto-table-cell-role="th">hill_olv_predicted</td>
<td>0.9943</td>
<td>0.463</td>
<td>2.148</td>
<td>0.033</td>
<td>0.080</td>
<td>1.909</td>
</tr>
</tbody>
</table>

<table class="simpletable do-not-create-environment cell"
data-quarto-postprocess="true">
<tbody>
<tr>
<td data-quarto-table-cell-role="th">Omnibus:</td>
<td>23.961</td>
<td data-quarto-table-cell-role="th">Durbin-Watson:</td>
<td>0.227</td>
</tr>
<tr>
<td data-quarto-table-cell-role="th">Prob(Omnibus):</td>
<td>0.000</td>
<td data-quarto-table-cell-role="th">Jarque-Bera (JB):</td>
<td>11.734</td>
</tr>
<tr>
<td data-quarto-table-cell-role="th">Skew:</td>
<td>0.487</td>
<td data-quarto-table-cell-role="th">Prob(JB):</td>
<td>0.00283</td>
</tr>
<tr>
<td data-quarto-table-cell-role="th">Kurtosis:</td>
<td>2.075</td>
<td data-quarto-table-cell-role="th">Cond. No.</td>
<td>26.5</td>
</tr>
</tbody>
</table>

<br/><br/>Notes:<br/>[1] Standard Errors assume that the covariance matrix of the errors is correctly specified.

</div>

Here, we observe that although the VIF values are considerably lower
than those reported in
<a href="#tbl-vifs" class="quarto-xref">Table 1</a> in the previous
example
(<a href="#sec-paid-search-solution" class="quarto-xref">1.1.1</a>), the
impact on our ability to accurately measure the effect of **OLV
impressions** on **sales** is significantly more detrimental.

Comparing <a href="#tbl-vifs-fourier-olv-no-sentiment"
class="quarto-xref">Table 7</a> to
<a href="#tbl-vifs-fourier-olv" class="quarto-xref">Table 6</a> we see
that the inclusion of **Video Platform Sentiment** (represented as
`olv_sentement` in the model), did not bias the estimate of the total
effect of **OLV impressions** on **sales**. However, it did lead to an
increase in p-values, pushing them above our significance threshold of
0.05.

## Appendix A - Paid Search Data

<div class="panel-tabset">

## Sales

![](01_multicollinearity_files/figure-commonmark/cell-13-output-1.png)

## Paid Search Impressions

![](01_multicollinearity_files/figure-commonmark/cell-14-output-1.png)

## Search Query Volume

![](01_multicollinearity_files/figure-commonmark/cell-15-output-1.png)

## Price

![](01_multicollinearity_files/figure-commonmark/cell-16-output-1.png)

</div>

## Appendix B - OLV Data

<div class="panel-tabset">

## Sales

![](01_multicollinearity_files/figure-commonmark/cell-17-output-1.png)

## OLV Impressions

![](01_multicollinearity_files/figure-commonmark/cell-18-output-1.png)

## Video Platform Sentiment

![](01_multicollinearity_files/figure-commonmark/cell-19-output-1.png)

## Price

![](01_multicollinearity_files/figure-commonmark/cell-20-output-1.png)

</div>
